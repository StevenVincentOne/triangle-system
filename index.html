<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Intelligent System Model with Animation</title>
    <style>
    /* General Styles */
    body {
        background-color: #2c3e50; /* Darker background for better contrast */
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 0;
        font-family: Arial, sans-serif;
        color: white;
    }

    h1 {
        text-align: center;
        color: #ecf0f1;
        margin: 20px 0;
    }

    /* Dashboard Styles */
    #dashboard {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 90%;
        max-width: 1200px;
        background-color: #34495e;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .dashboard-section {
        width: 100%;
        padding: 15px;
        background-color: #3c5975;
        margin-bottom: 15px;
        border-radius: 8px;
    }

    .dashboard-section h2 {
        margin: 0 0 10px 0;
        text-align: center;
        color: #ecf0f1;
    }

    .dashboard-row {
        display: flex;
        justify-content: space-around;
        width: 100%;
        flex-wrap: wrap;
        gap: 10px;
    }

    .dashboard-item {
        flex: 1 1 22%;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
        background-color: #4b6584;
        border-radius: 5px;
    }

    .dashboard-item label {
        margin-bottom: 5px;
        font-weight: bold;
        cursor: pointer;
    }

    .dashboard-item input, .dashboard-item span {
        width: 80%;
        padding: 5px;
        border: none;
        border-radius: 3px;
        text-align: center;
        font-size: 14px;
        background-color: #7f8c8d;
        color: #2c3e50;
    }

    /* Controls Styles */
    .controls, .animation-controls, .lock-controls {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
        margin-bottom: 15px;
    }

    button, select {
        padding: 8px 12px;
        font-size: 14px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        transition: background-color 0.3s;
    }

    button {
        background-color: #1abc9c;
        color: white;
    }

    button:hover {
        background-color: #16a085;
    }

    .preset-button {
        background-color: #f39c12;
        color: white;
    }

    .preset-button:hover {
        background-color: #e67e22;
    }

    .animation-controls select, .animation-controls input {
        padding: 5px;
        font-size: 14px;
        border-radius: 3px;
        border: none;
    }

    /* Canvas Styles */
    canvas {
        background-color: #2c3e50;
        border: 2px solid #34495e;
        border-radius: 10px;
        cursor: grab;
        max-width: 100%;
        height: auto;
    }

    canvas:active {
        cursor: grabbing;
    }

    /* Legend Styles */
    #legend {
        background-color: rgba(52, 73, 94, 0.9);
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
        max-width: 800px;
        width: 90%;
    }

    #legend h3 {
        margin-top: 0;
        color: #ecf0f1;
    }

    #legend p {
        margin: 5px 0;
        color: #bdc3c7;
    }

    /* Tooltip Styles */
    .tooltip {
        position: relative;
        display: inline-block;
    }

    .tooltip .tooltiptext {
        visibility: hidden;
        width: 150px;
        background-color: #34495e;
        color: #ecf0f1;
        text-align: center;
        border-radius: 6px;
        padding: 5px 0;
        position: absolute;
        z-index: 1;
        bottom: 125%; /* Position above the element */
        left: 50%;
        margin-left: -75px;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .tooltip:hover .tooltiptext {
        visibility: visible;
        opacity: 1;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .dashboard-item {
            flex: 1 1 45%;
        }
    }

    @media (max-width: 480px) {
        .dashboard-item {
            flex: 1 1 100%;
        }
    }

    /* Locked Nodes Visual Indicator */
    .locked {
        opacity: 0.6;
        position: relative;
    }

    .locked::after {
        content: 'ðŸ”’';
        position: absolute;
        top: 5px;
        right: 5px;
        font-size: 16px;
    }

    /* Main Content and Information Panel Styles */
    #main-content {
        display: flex;
        gap: 20px; /* Space between Info Panel and Canvas */
        width: 90%;
        max-width: 1200px;
        margin: 0 auto; /* Center the container */
    }

    /* Information Panel Styles */
    #info-panel {
        background-color: #34495e;
        padding: 20px;
        border-radius: 10px;
        color: #ecf0f1;
        width: 300px; /* Fixed width for the info panel */
        flex-shrink: 0; /* Prevent shrinking when screen is small */
    }

    #info-panel h2 {
        text-align: center;
        margin-bottom: 15px;
    }

    .info-item {
        margin-bottom: 15px;
    }

    .info-item ul {
        list-style-type: none;
        padding-left: 0;
    }

    .info-item li {
        margin: 5px 0;
    }

    /* Canvas and Legend Container */
    #canvas-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex-grow: 1; /* Allow canvas-container to take remaining space */
    }

    /* Adjust Canvas Size Responsively */
    canvas {
        max-width: 100%;
        height: auto;
    }

    /* Responsive Design Enhancements */
    @media (max-width: 768px) {
        #main-content {
            flex-direction: column; /* Stack Info Panel above Canvas */
            align-items: center;
        }

        #info-panel {
            width: 100%; /* Full width on small screens */
        }
    }
    </style>
</head>
<body>
    <h1>Intelligent System Model with Animation</h1>

    <div id="dashboard">
        <!-- System Section -->
        <div id="system-section" class="dashboard-section">
            <h2>System</h2>
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="system-perimeter">Perimeter:</label>
                    <input type="number" id="system-perimeter" data-system="perimeter" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="system-area">Area:</label>
                    <input type="number" id="system-area" data-area="system" step="0.1">
                </div>
            </div>
        </div>

        <!-- Subsystems Section -->
        <div id="subsystems-section" class="dashboard-section">
            <h2>Subsystems</h2>
            <!-- Subsystem Labels -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <span>Subsystem 1</span>
                </div>
                <div class="dashboard-item">
                    <span>Subsystem 2</span>
                </div>
                <div class="dashboard-item">
                    <span>Subsystem 3</span>
                </div>
            </div>
            <!-- Areas Row -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="subsystem-1-area">Area:</label>
                    <input type="number" id="subsystem-1-area" data-subsystem="1" data-property="area" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-2-area">Area:</label>
                    <input type="number" id="subsystem-2-area" data-subsystem="2" data-property="area" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-3-area">Area:</label>
                    <input type="number" id="subsystem-3-area" data-subsystem="3" data-property="area" step="0.1">
                </div>
            </div>
            <!-- Perimeters Row -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="subsystem-1-perimeter">Perimeter:</label>
                    <input type="number" id="subsystem-1-perimeter" data-subsystem="1" data-property="perimeter" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-2-perimeter">Perimeter:</label>
                    <input type="number" id="subsystem-2-perimeter" data-subsystem="2" data-property="perimeter" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-3-perimeter">Perimeter:</label>
                    <input type="number" id="subsystem-3-perimeter" data-subsystem="3" data-property="perimeter" step="0.1">
                </div>
            </div>
            <!-- Centroid Angles Row -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="subsystem-1-centroid-angle">Centroid Angle:</label>
                    <input type="number" id="subsystem-1-centroid-angle" data-subsystem="1" data-property="centroid-angle" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-2-centroid-angle">Centroid Angle:</label>
                    <input type="number" id="subsystem-2-centroid-angle" data-subsystem="2" data-property="centroid-angle" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-3-centroid-angle">Centroid Angle:</label>
                    <input type="number" id="subsystem-3-centroid-angle" data-subsystem="3" data-property="centroid-angle" step="0.1">Â°
                </div>
            </div>
            <!-- Adjacent Subangles Group A -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="subsystem-1-adj-subangle-a">Adj. Subangle N2:</label>
                    <input type="number" id="subsystem-1-adj-subangle-a" data-subsystem="1" data-property="adj-subangle-a" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-2-adj-subangle-a">Adj. Subangle N1:</label>
                    <input type="number" id="subsystem-2-adj-subangle-a" data-subsystem="2" data-property="adj-subangle-a" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-3-adj-subangle-a">Adj. Subangle N3:</label>
                    <input type="number" id="subsystem-3-adj-subangle-a" data-subsystem="3" data-property="adj-subangle-a" step="0.1">Â°
                </div>
            </div>
            <!-- Adjacent Subangles Group B -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="subsystem-1-adj-subangle-b">Adj. Subangle N1:</label>
                    <input type="number" id="subsystem-1-adj-subangle-b" data-subsystem="1" data-property="adj-subangle-b" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-2-adj-subangle-b">Adj. Subangle N3:</label>
                    <input type="number" id="subsystem-2-adj-subangle-b" data-subsystem="2" data-property="adj-subangle-b" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="subsystem-3-adj-subangle-b">Adj. Subangle N2:</label>
                    <input type="number" id="subsystem-3-adj-subangle-b" data-subsystem="3" data-property="adj-subangle-b" step="0.1">Â°
                </div>
            </div>
        </div>

        <!-- Channels Section -->
        <div id="channels-section" class="dashboard-section">
            <h2>Channels</h2>
            <!-- Node Channel Lengths Row -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="edge-nc1">NC1 (N1-N2):</label>
                    <input type="number" id="edge-nc1" data-edge="nc1" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="edge-nc2">NC2 (N1-N3):</label>
                    <input type="number" id="edge-nc2" data-edge="nc2" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="edge-nc3">NC3 (N2-N3):</label>
                    <input type="number" id="edge-nc3" data-edge="nc3" step="0.1">
                </div>
            </div>
            <!-- Median Channel Lengths Row -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="median-n1i">N1-I:</label>
                    <input type="number" id="median-n1i" data-median="n1i" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="median-n2i">N2-I:</label>
                    <input type="number" id="median-n2i" data-median="n2i" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="median-n3i">N3-I:</label>
                    <input type="number" id="median-n3i" data-median="n3i" step="0.1">
                </div>
            </div>
        </div>

        <!-- Nodes Section -->
        <div id="nodes-section" class="dashboard-section">
            <h2>Nodes</h2>
            <!-- Positions Row -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="node-n1-x">N1 Position X:</label>
                    <input type="number" id="node-n1-x" data-node="n1" data-coord="x" step="0.1">
                    <label for="node-n1-y">Y:</label>
                    <input type="number" id="node-n1-y" data-node="n1" data-coord="y" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="node-n2-x">N2 Position X:</label>
                    <input type="number" id="node-n2-x" data-node="n2" data-coord="x" step="0.1">
                    <label for="node-n2-y">Y:</label>
                    <input type="number" id="node-n2-y" data-node="n2" data-coord="y" step="0.1">
                </div>
                <div class="dashboard-item">
                    <label for="node-n3-x">N3 Position X:</label>
                    <input type="number" id="node-n3-x" data-node="n3" data-coord="x" step="0.1">
                    <label for="node-n3-y">Y:</label>
                    <input type="number" id="node-n3-y" data-node="n3" data-coord="y" step="0.1">
                </div>
            </div>
            <!-- Angles Row -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="node-n1-angle">N1 Angle:</label>
                    <input type="number" id="node-n1-angle" data-node="n1" data-coord="angle" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="node-n2-angle">N2 Angle:</label>
                    <input type="number" id="node-n2-angle" data-node="n2" data-coord="angle" step="0.1">Â°
                </div>
                <div class="dashboard-item">
                    <label for="node-n3-angle">N3 Angle:</label>
                    <input type="number" id="node-n3-angle" data-node="n3" data-coord="angle" step="0.1">Â°
                </div>
            </div>
        </div>

        <!-- Centers Section -->
        <div id="centers-section" class="dashboard-section">
            <h2>Centers</h2>
            <div class="dashboard-row">
                <!-- Centroid (Intelligence) -->
                <div class="dashboard-item">
                    <label for="centroid-x">Centroid I X:</label>
                    <input type="number" id="centroid-x" data-node="intelligence" data-coord="x" step="0.1">
                    <label for="centroid-y">Y:</label>
                    <input type="number" id="centroid-y" data-node="intelligence" data-coord="y" step="0.1">
                </div>
                <!-- Incenter -->
                <div class="dashboard-item">
                    <label>Incenter:</label>
                    <input type="number" id="incenter-x" step="0.1" readonly>
                    <input type="number" id="incenter-y" step="0.1" readonly>
                </div>
            </div>
            <!-- Incircle Area and Perimeter -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label>Incircle Area:</label>
                    <input type="number" id="incircle-area" step="0.1" readonly>
                </div>
                <div class="dashboard-item">
                    <label>Incircle Perimeter:</label>
                    <input type="number" id="incircle-perimeter" step="0.1" readonly>
                </div>
            </div>
            <!-- Angles at I (SS1, SS2, SS3) -->
            <div class="dashboard-row">
                <div class="dashboard-item">
                    <label for="angle-ss1">Angle SS1:</label>
                    <input type="number" id="angle-ss1" data-angle="ss1" step="0.1" readonly>Â°
                </div>
                <div class="dashboard-item">
                    <label for="angle-ss2">Angle SS2:</label>
                    <input type="number" id="angle-ss2" data-angle="ss2" step="0.1" readonly>Â°
                </div>
                <div class="dashboard-item">
                    <label for="angle-ss3">Angle SS3:</label>
                    <input type="number" id="angle-ss3" data-angle="ss3" step="0.1" readonly>Â°
                </div>
            </div>
        </div>

        <!-- Lock Controls -->
        <div class="lock-controls">
            <div class="lock-checkbox">
                <input type="checkbox" class="lock-checkbox-input" data-node="n1" id="lock-n1">
                <label for="lock-n1">Lock N1</label>
            </div>
            <div class="lock-checkbox">
                <input type="checkbox" class="lock-checkbox-input" data-node="n2" id="lock-n2">
                <label for="lock-n2">Lock N2</label>
            </div>
            <div class="lock-checkbox">
                <input type="checkbox" class="lock-checkbox-input" data-node="n3" id="lock-n3">
                <label for="lock-n3">Lock N3</label>
            </div>
            <div class="lock-checkbox">
                <input type="checkbox" id="lock-centroid">
                <label for="lock-centroid">Lock I</label>
            </div>
        </div>

        <!-- Controls Section -->
        <div class="controls">
            <button id="equilateral" class="preset-button tooltip">Equilateral
                <span class="tooltiptext">Set triangle to Equilateral</span>
            </button>
            <button id="isosceles" class="preset-button tooltip">Isosceles
                <span class="tooltiptext">Set triangle to Isosceles</span>
            </button>
            <button id="scalene" class="preset-button tooltip">Scalene
                <span class="tooltiptext">Set triangle to Scalene</span>
            </button>
            <button id="right" class="preset-button tooltip">Right
                <span class="tooltiptext">Set triangle to Right-angled</span>
            </button>
            <button id="acute" class="preset-button tooltip">Acute
                <span class="tooltiptext">Set triangle to Acute-angled</span>
            </button>
            <button id="obtuse" class="preset-button tooltip">Obtuse
                <span class="tooltiptext">Set triangle to Obtuse-angled</span>
            </button>
            <button id="toggleMidpoints" class="tooltip">Midpoints
                <span class="tooltiptext">Toggle Midpoints</span>
            </button>
            <button id="toggleIncircle" class="tooltip">Incircle
                <span class="tooltiptext">Toggle Incircle</span>
            </button>
            <button id="toggleIncenter" class="tooltip">Incenter
                <span class="tooltiptext">Toggle Incenter</span>
            </button>
            <button id="toggleMedians" class="tooltip">Medians
                <span class="tooltiptext">Toggle Medians</span>
            </button>
            <button id="toggleAreas" class="tooltip">Areas
                <span class="tooltiptext">Toggle Areas</span>
            </button>
            <!-- Apply Button -->
            <button id="apply-button" class="tooltip">Apply
                <span class="tooltiptext">Apply Pending Changes</span>
            </button>
            <!-- Export Data Button -->
            <button id="exportData" class="tooltip">Export Data
                <span class="tooltiptext">Export all data to CSV</span>
            </button>
        </div>

        <!-- Animation Controls -->
        <div class="animation-controls">
            <select id="animation-parameter">
                <option value="angle-n1">Angle at N1</option>
                <option value="angle-n2">Angle at N2</option>
                <option value="angle-n3">Angle at N3</option>
                <option value="edge-nc1">Edge NC1 (N1-N2)</option>
                <option value="edge-nc2">Edge NC2 (N1-N3)</option>
                <option value="edge-nc3">Edge NC3 (N2-N3)</option>
                <option value="median-n1i">Median N1-I</option>
                <option value="median-n2i">Median N2-I</option>
                <option value="median-n3i">Median N3-I</option>
                <option value="area">Area</option>
                <option value="perimeter">Perimeter</option>
            </select>
            <input type="number" id="animation-start" placeholder="Start Value" step="0.1">
            <input type="number" id="animation-end" placeholder="End Value" step="0.1">
            <button id="start-animation" class="tooltip">Animate
                <span class="tooltiptext">Start Animation</span>
            </button>
        </div>
    </div>

    <!-- Main Content Container -->
    <div id="main-content">
        <!-- Information Panel -->
        <div id="info-panel">
            <h2>Information Panel</h2>
            <div class="info-item">
                <strong>d Centroid to Incircle:</strong>
                <span id="d-centroid-incircle">0.0</span>
            </div>
            <div class="info-item">
                <strong>d Midpoint to Tangent:</strong>
                <ul>
                    <li>NC1: <span id="d-mid-nc1">0.0</span></li>
                    <li>NC2: <span id="d-mid-nc2">0.0</span></li>
                    <li>NC3: <span id="d-mid-nc3">0.0</span></li>
                </ul>
            </div>
            <div class="info-item">
                <strong>r Midpoint to Tangent:</strong>
                <ul>
                    <li>NC1: <span id="r-mid-nc1">0.0</span></li>
                    <li>NC2: <span id="r-mid-nc2">0.0</span></li>
                    <li>NC3: <span id="r-mid-nc3">0.0</span></li>
                </ul>
            </div>
        </div>

        <!-- Canvas and Legend Container -->
        <div id="canvas-container">
            <canvas id="canvas" width="800" height="600"></canvas>

            <!-- Legend Section -->
            <div id="legend">
                <h3>Legend:</h3>
                <p>N1, N2, N3: Main nodes of the triangle</p>
                <p>I: Centroid of the triangle</p>
                <p>Incenter: Point where angle bisectors meet</p>
                <p>Incircle: Circle inscribed within the triangle</p>
                <p>NC1, NC2, NC3: Edge lengths (Node Channels)</p>
                <p>N1-I, N2-I, N3-I: Median Channel lengths</p>
                <p>Yellow Dots: Midpoints of the edges</p>
                <p>Light Blue Dots: Points of tangency with incircle</p>
                <p>ðŸ”’: Locked Node</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>